<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Header</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/header.css}">
</head>
<body>
        <header th:fragment="header">
            <a th:href="@{/transferer}">
                <h1>Pay My Buddy</h1>
            </a>
            <nav>
                <a th:href="@{/transferer}">Transferer</a>
                <a th:href="@{/profil}">Profil</a>
                <a th:href="@{/ajouter-relation}">Ajouter relation</a>
                <form th:action="@{/logout}" method="post" style="display:inline;">
                    <button type="submit" style="background:none;border:none;color:inherit;padding:0;font:inherit;cursor:pointer;" id="logoutBtn">
                        Se déconnecter
                    </button>
                </form>
            </nav>
            <script>
                document.addEventListener('DOMContentLoaded', function(){
                    const links = document.querySelectorAll('header nav a');
                    const path = window.location.pathname.toLowerCase();
                    console.log(path)
                    console.log(links)
                    links.forEach(link => {
                        if(path.endsWith(link.pathname.toLowerCase()))
                            link.classList.add('active')
                        else
                            link.classList.remove('active')
                    })

                    document.getElementById("logoutBtn").addEventListener("click", function(event) {
                        const confirmation = confirm("Es-tu sûr de vouloir te déconnecter ?");
                        if (!confirmation) {
                            event.preventDefault();
                        }
                    });
                })
            </script>
        </header>
</body>
</html>